<!DOCTYPE html>
<html>
<head>
    <title>Treeh0se</title>
    <style>
        body {
            margin: 0;
            background-color: #FFBB00; /* 黄色改为FFBB00 */
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            position: relative; /* 用于定位子元素 */
            overflow: hidden; /* 防止内容溢出视口 */
        }
        
        #canvas {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(30px, 1fr)); /* 自动适配列数 */
            grid-template-rows: repeat(auto-fill, minmax(30px, 1fr)); /* 自动适配行数 */
            gap: 0;
            width: 100vw; /* 宽度适应视口 */
            height: 100vh; /* 高度适应视口 */
            position: absolute; /* 将其放置在 body 内部 */
            top: 0;
            left: 0;
        }

        .pixel {
            width: 30px;
            height: 30px;
            background-color: transparent;
        }

        .green {
            background-color: #66D300; /* 绿色改为66D300 */
        }

        img {
            position: absolute; /* 将 SVG 图像定位在页面中心 */
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%); /* 使图像在水平和垂直方向居中 */
            z-index: 10; /* 确保 SVG 图像在最上层 */
            width: 200px;  /* 保持原始宽度 */
            height: auto; /* 保持原始高度 */
        }
    </style>
</head>
<body>
    <canvas id="waveCanvas"></canvas>
    <!-- Add the SVG image with absolute positioning -->
    <img src="pth.svg" alt="SVG Image">
    <div id="canvas"></div>

    <script>
        // 获取canvas容器
        const canvas = document.getElementById('canvas');
        
        // 创建网格（自动根据视口大小生成像素块）
        const totalPixels = Math.floor(window.innerWidth / 30) * Math.floor(window.innerHeight / 30); // 根据视口宽高计算总像素块数
        for (let i = 0; i < totalPixels; i++) {
            const pixel = document.createElement('div');
            pixel.className = 'pixel';
            canvas.appendChild(pixel);
        }

        // 获取所有像素块
        const pixels = document.getElementsByClassName('pixel');

        // 随机生成绿色像素的函数
        function generateNoise() {
            for (let pixel of pixels) {
                // 随机决定是否变成绿色（这里使用30%的概率）
                if (Math.random() < 0.3) {
                    pixel.classList.add('green');
                } else {
                    pixel.classList.remove('green');
                }
            }
        }

        // 初始生成
        generateNoise();

        // 每0.25秒更新一次
        setInterval(generateNoise, 250);

        // 动态修改标签页标题
        const titles = [
            "GOAWAY！",
            "！！！！！！",
            "111111111111111111",
            "走开！！！！！",
        ];

        let titleIndex = 0;
        let titleStep = 0;
        let isAnimating = false;
        let intervalId = setInterval(() => {
            if (isAnimating) {
                // 动画阶段：显示“◨”逐渐增加
                document.title = "◨".repeat(titleStep);
                titleStep++;
                if (titleStep > 9) {
                    // 完成动画后恢复到下一个标题
                    isAnimating = false;
                    titleStep = 0;
                    titleIndex = (titleIndex + 1) % titles.length;
                    document.title = titles[titleIndex];
                }
            } else {
                // 等待下一段标题动画
                isAnimating = true;
                titleStep = 1;
            }
        }, 200); // 每200ms更新一次标题

    </script>
</body>
</html>
